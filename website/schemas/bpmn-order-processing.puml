' ============================================
' BPMN: Процесс обработки заказа администратором
' Лаба 4 - BPMN диаграммы
'
' ЧТО ДЕЛАЕТ: Показывает бизнес-процесс обработки заказа от момента
' получения до завершения. Описывает действия администратора и системы.
'
' ЗАЧЕМ НУЖНА: Показывает, что вы понимаете процесс обработки заказов.
' Визуально показывает жизненный цикл заказа (NEW → IN_PROCESS → DELIVERING → COMPLETED).
' ============================================

@startuml BPMN_Order_Processing
title BPMN: Процесс обработки заказа администратором

|Администратор|
start
:Вход в админ-панель;
note right
  Логин: admin@flowershop.ru
  Пароль: admin
end note

:Просмотр новых заказов;
note right: Раздел "Ожидающие"

:Выбор заказа для обработки;

if (Заказ валиден?) then (да)
  :Установка статуса: IN_PROCESS;
  
  :Подготовка товара к отправке;
  
  :Установка статуса: DELIVERING;
  
  if (Доставка завершена?) then (да)
    :Установка статуса: COMPLETED;
    stop
  else (нет)
    if (Отмена доставки?) then (да)
      :Установка статуса: CANCELLED;
      note right: Возврат товара на склад
      stop
    else (нет)
      :Ожидание завершения доставки;
      stop
    endif
  endif
else (нет)
  :Установка статуса: CANCELLED;
  note right: Отмена невалидного заказа
  stop
endif
@enduml
